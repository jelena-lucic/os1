GAS LISTING /tmp/ccbt2twp.s 			page 1


   1              		.file	"riscv.cpp"
   2              		.option pic
   3              		.option norelax
   4              		.text
   5              	.Ltext0:
   6              		.align	2
   7              		.globl	_ZN5Riscv10popSppSpieEv
   9              	_ZN5Riscv10popSppSpieEv:
  10              	.LFB42:
  11              		.file 1 "src/riscv.cpp"
   1:src/riscv.cpp **** #include "../h/riscv.hpp"
   2:src/riscv.cpp **** #include "../h/tcb.hpp"
   3:src/riscv.cpp **** #include "../lib/console.h"
   4:src/riscv.cpp **** 
   5:src/riscv.cpp **** void Riscv::popSppSpie()
   6:src/riscv.cpp **** {
  12              		.loc 1 6 1
  13              		.cfi_startproc
  14 0000 130101FF 		addi	sp,sp,-16
  15              		.cfi_def_cfa_offset 16
  16 0004 23348100 		sd	s0,8(sp)
  17              		.cfi_offset 8, -8
  18 0008 13040101 		addi	s0,sp,16
  19              		.cfi_def_cfa 8, 0
   7:src/riscv.cpp ****     __asm__ volatile ("csrw sepc, ra");
  20              		.loc 1 7 5
  21              		.loc 1 7 39 is_stmt 0
  22              	#APP
  23              	# 7 "src/riscv.cpp" 1
   8              	    __asm__ volatile ("sret");
  24              		csrw sepc, ra
  25              	# 0 "" 2
  26              		.loc 1 8 5 is_stmt 1
  27              		.loc 1 8 30 is_stmt 0
  28              	# 8 "src/riscv.cpp" 1
   9              	}
  29              		sret
  30              	# 0 "" 2
  31              		.loc 1 9 1
  32              	#NO_APP
  33 0014 03348100 		ld	s0,8(sp)
  34              		.cfi_restore 8
  35              		.cfi_def_cfa 2, 16
  36 0018 13010101 		addi	sp,sp,16
  37              		.cfi_def_cfa_offset 0
  38 001c 67800000 		jr	ra
  39              		.cfi_endproc
  40              	.LFE42:
  42              		.section	.rodata.str1.8,"aMS",@progbits,1
  43              		.align	3
  44              	.LC0:
  45 0000 0A00     		.string	"\n"
  46              		.text
  47              		.align	2
  48              		.globl	_ZN5Riscv20handleSupervisorTrapEv
  50              	_ZN5Riscv20handleSupervisorTrapEv:
  51              	.LFB43:
GAS LISTING /tmp/ccbt2twp.s 			page 2


  10:src/riscv.cpp **** 
  11:src/riscv.cpp **** void Riscv::handleSupervisorTrap() {
  52              		.loc 1 11 36 is_stmt 1
  53              		.cfi_startproc
  54 0020 130101F7 		addi	sp,sp,-144
  55              		.cfi_def_cfa_offset 144
  56 0024 23341108 		sd	ra,136(sp)
  57 0028 23308108 		sd	s0,128(sp)
  58 002c 233C9106 		sd	s1,120(sp)
  59 0030 23382107 		sd	s2,112(sp)
  60 0034 23343107 		sd	s3,104(sp)
  61              		.cfi_offset 1, -8
  62              		.cfi_offset 8, -16
  63              		.cfi_offset 9, -24
  64              		.cfi_offset 18, -32
  65              		.cfi_offset 19, -40
  66 0038 13040109 		addi	s0,sp,144
  67              		.cfi_def_cfa 8, 0
  12:src/riscv.cpp ****     uint64 a1 = r_a1();
  68              		.loc 1 12 5
  69              	.LBB60:
  70              	.LBB61:
  71              		.file 2 "src/../h/riscv.hpp"
   1:src/../h/riscv.hpp **** #ifndef RISCV_HPP
   2:src/../h/riscv.hpp **** #define RISCV_HPP
   3:src/../h/riscv.hpp **** 
   4:src/../h/riscv.hpp **** #include "../lib/hw.h"
   5:src/../h/riscv.hpp **** 
   6:src/../h/riscv.hpp **** class Riscv {
   7:src/../h/riscv.hpp **** public:
   8:src/../h/riscv.hpp **** 
   9:src/../h/riscv.hpp ****     // pop sstatus.spp and sstatus.spie bits (has to be a non inline function)
  10:src/../h/riscv.hpp ****     static void popSppSpie();
  11:src/../h/riscv.hpp **** 
  12:src/../h/riscv.hpp ****     // read register scause
  13:src/../h/riscv.hpp ****     static uint64 r_scause();
  14:src/../h/riscv.hpp **** 
  15:src/../h/riscv.hpp ****     // write register scause
  16:src/../h/riscv.hpp ****     static void w_scause(uint64 scause);
  17:src/../h/riscv.hpp **** 
  18:src/../h/riscv.hpp ****     // read register sepc
  19:src/../h/riscv.hpp ****     static uint64 r_sepc();
  20:src/../h/riscv.hpp **** 
  21:src/../h/riscv.hpp ****     // write register sepc
  22:src/../h/riscv.hpp ****     static void w_sepc(uint64 sepc);
  23:src/../h/riscv.hpp **** 
  24:src/../h/riscv.hpp ****     // read register stvec
  25:src/../h/riscv.hpp ****     static uint64 r_stvec();
  26:src/../h/riscv.hpp **** 
  27:src/../h/riscv.hpp ****     // write register stvec
  28:src/../h/riscv.hpp ****     static void w_stvec(uint64 stvec);
  29:src/../h/riscv.hpp **** 
  30:src/../h/riscv.hpp ****     // read register stval
  31:src/../h/riscv.hpp ****     static uint64 r_stval();
  32:src/../h/riscv.hpp **** 
  33:src/../h/riscv.hpp ****     // write register stval
  34:src/../h/riscv.hpp ****     static void w_stval(uint64 stval);
GAS LISTING /tmp/ccbt2twp.s 			page 3


  35:src/../h/riscv.hpp **** 
  36:src/../h/riscv.hpp ****     enum BitMaskSip
  37:src/../h/riscv.hpp ****     {
  38:src/../h/riscv.hpp ****         SIP_SSIP = (1 << 1),
  39:src/../h/riscv.hpp ****         SIP_STIP = (1 << 5),
  40:src/../h/riscv.hpp ****         SIP_SEIP = (1 << 9),
  41:src/../h/riscv.hpp ****     };
  42:src/../h/riscv.hpp **** 
  43:src/../h/riscv.hpp ****     // mask set register sip
  44:src/../h/riscv.hpp ****     static void ms_sip(uint64 mask);
  45:src/../h/riscv.hpp **** 
  46:src/../h/riscv.hpp ****     // mask clear register sip
  47:src/../h/riscv.hpp ****     static void mc_sip(uint64 mask);
  48:src/../h/riscv.hpp **** 
  49:src/../h/riscv.hpp ****     // read register sip
  50:src/../h/riscv.hpp ****     static uint64 r_sip();
  51:src/../h/riscv.hpp **** 
  52:src/../h/riscv.hpp ****     // write register sip
  53:src/../h/riscv.hpp ****     static void w_sip(uint64 sip);
  54:src/../h/riscv.hpp **** 
  55:src/../h/riscv.hpp ****     enum BitMaskSstatus
  56:src/../h/riscv.hpp ****     {
  57:src/../h/riscv.hpp ****         SSTATUS_SIE = (1 << 1),
  58:src/../h/riscv.hpp ****         SSTATUS_SPIE = (1 << 5),
  59:src/../h/riscv.hpp ****         SSTATUS_SPP = (1 << 8),
  60:src/../h/riscv.hpp ****     };
  61:src/../h/riscv.hpp **** 
  62:src/../h/riscv.hpp ****     // mask set register sstatus
  63:src/../h/riscv.hpp ****     static void ms_sstatus(uint64 mask);
  64:src/../h/riscv.hpp **** 
  65:src/../h/riscv.hpp ****     // mask clear register sstatus
  66:src/../h/riscv.hpp ****     static void mc_sstatus(uint64 mask);
  67:src/../h/riscv.hpp **** 
  68:src/../h/riscv.hpp ****     // read register sstatus
  69:src/../h/riscv.hpp ****     static uint64 r_sstatus();
  70:src/../h/riscv.hpp **** 
  71:src/../h/riscv.hpp ****     // write register sstatus
  72:src/../h/riscv.hpp ****     static void w_sstatus(uint64 sstatus);
  73:src/../h/riscv.hpp **** 
  74:src/../h/riscv.hpp ****     //read a0
  75:src/../h/riscv.hpp ****     static long r_a0();
  76:src/../h/riscv.hpp **** 
  77:src/../h/riscv.hpp ****     //write a0
  78:src/../h/riscv.hpp ****     static void w_a0(long a0);
  79:src/../h/riscv.hpp **** 
  80:src/../h/riscv.hpp ****     //read a1
  81:src/../h/riscv.hpp ****     static uint64 r_a1();
  82:src/../h/riscv.hpp **** 
  83:src/../h/riscv.hpp ****     //write a1
  84:src/../h/riscv.hpp ****     static void w_a1(uint64 a1);
  85:src/../h/riscv.hpp **** 
  86:src/../h/riscv.hpp ****     //read a2
  87:src/../h/riscv.hpp ****     static uint64 r_a2();
  88:src/../h/riscv.hpp **** 
  89:src/../h/riscv.hpp ****     //write a2
  90:src/../h/riscv.hpp ****     static void w_a2(uint64 a2);
  91:src/../h/riscv.hpp **** 
GAS LISTING /tmp/ccbt2twp.s 			page 4


  92:src/../h/riscv.hpp ****     //read a3
  93:src/../h/riscv.hpp ****     static uint64 r_a3();
  94:src/../h/riscv.hpp **** 
  95:src/../h/riscv.hpp ****     //write a3
  96:src/../h/riscv.hpp ****     static void w_a3(uint64 a3);
  97:src/../h/riscv.hpp **** 
  98:src/../h/riscv.hpp ****     //read a4
  99:src/../h/riscv.hpp ****     static uint64 r_a4();
 100:src/../h/riscv.hpp **** 
 101:src/../h/riscv.hpp ****     //write a3
 102:src/../h/riscv.hpp ****     static void w_a4(uint64 a4);
 103:src/../h/riscv.hpp **** 
 104:src/../h/riscv.hpp ****     // supervisor trap
 105:src/../h/riscv.hpp ****     static void supervisorTrap();
 106:src/../h/riscv.hpp **** 
 107:src/../h/riscv.hpp **** private:
 108:src/../h/riscv.hpp **** 
 109:src/../h/riscv.hpp ****     // supervisor trap handler
 110:src/../h/riscv.hpp ****     static void handleSupervisorTrap();
 111:src/../h/riscv.hpp **** 
 112:src/../h/riscv.hpp **** };
 113:src/../h/riscv.hpp **** 
 114:src/../h/riscv.hpp **** inline uint64 Riscv::r_scause() {
 115:src/../h/riscv.hpp ****     uint64 volatile scause;
 116:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
 117:src/../h/riscv.hpp ****     return scause;
 118:src/../h/riscv.hpp **** }
 119:src/../h/riscv.hpp **** 
 120:src/../h/riscv.hpp **** inline void Riscv::w_scause(uint64 scause) {
 121:src/../h/riscv.hpp ****     __asm__ volatile ("csrw scause, %[scause]" : : [scause] "r"(scause));
 122:src/../h/riscv.hpp **** }
 123:src/../h/riscv.hpp **** 
 124:src/../h/riscv.hpp **** inline uint64 Riscv::r_sepc() {
 125:src/../h/riscv.hpp ****     uint64 volatile sepc;
 126:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 127:src/../h/riscv.hpp ****     return sepc;
 128:src/../h/riscv.hpp **** }
 129:src/../h/riscv.hpp **** 
 130:src/../h/riscv.hpp **** inline void Riscv::w_sepc(uint64 sepc) {
 131:src/../h/riscv.hpp ****     __asm__ volatile ("csrw sepc, %[sepc]" : : [sepc] "r"(sepc));
 132:src/../h/riscv.hpp **** }
 133:src/../h/riscv.hpp **** 
 134:src/../h/riscv.hpp **** inline uint64 Riscv::r_stvec() {
 135:src/../h/riscv.hpp ****     uint64 volatile stvec;
 136:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[stvec], stvec" : [stvec] "=r"(stvec));
 137:src/../h/riscv.hpp ****     return stvec;
 138:src/../h/riscv.hpp **** }
 139:src/../h/riscv.hpp **** 
 140:src/../h/riscv.hpp **** inline void Riscv::w_stvec(uint64 stvec) {
 141:src/../h/riscv.hpp ****     __asm__ volatile ("csrw stvec, %[stvec]" : : [stvec] "r"(stvec));
 142:src/../h/riscv.hpp **** }
 143:src/../h/riscv.hpp **** 
 144:src/../h/riscv.hpp **** inline uint64 Riscv::r_stval() {
 145:src/../h/riscv.hpp ****     uint64 volatile stval;
 146:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[stval], stval" : [stval] "=r"(stval));
 147:src/../h/riscv.hpp ****     return stval;
 148:src/../h/riscv.hpp **** }
GAS LISTING /tmp/ccbt2twp.s 			page 5


 149:src/../h/riscv.hpp **** 
 150:src/../h/riscv.hpp **** inline void Riscv::w_stval(uint64 stval) {
 151:src/../h/riscv.hpp ****     __asm__ volatile ("csrw stval, %[stval]" : : [stval] "r"(stval));
 152:src/../h/riscv.hpp **** }
 153:src/../h/riscv.hpp **** 
 154:src/../h/riscv.hpp **** inline void Riscv::ms_sip(uint64 mask) {
 155:src/../h/riscv.hpp ****     __asm__ volatile ("csrs sip, %[mask]" : : [mask] "r"(mask));
 156:src/../h/riscv.hpp **** }
 157:src/../h/riscv.hpp **** 
 158:src/../h/riscv.hpp **** inline void Riscv::mc_sip(uint64 mask) {
 159:src/../h/riscv.hpp ****     __asm__ volatile ("csrc sip, %[mask]" : : [mask] "r"(mask));
 160:src/../h/riscv.hpp **** }
 161:src/../h/riscv.hpp **** 
 162:src/../h/riscv.hpp **** inline uint64 Riscv::r_sip() {
 163:src/../h/riscv.hpp ****     uint64 volatile sip;
 164:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sip], sip" : [sip] "=r"(sip));
 165:src/../h/riscv.hpp ****     return sip;
 166:src/../h/riscv.hpp **** }
 167:src/../h/riscv.hpp **** 
 168:src/../h/riscv.hpp **** inline void Riscv::w_sip(uint64 sip) {
 169:src/../h/riscv.hpp ****     __asm__ volatile ("csrw sip, %[sip]" : : [sip] "r"(sip));
 170:src/../h/riscv.hpp **** }
 171:src/../h/riscv.hpp **** 
 172:src/../h/riscv.hpp **** inline void Riscv::ms_sstatus(uint64 mask) {
 173:src/../h/riscv.hpp ****     __asm__ volatile ("csrs sstatus, %[mask]" : : [mask] "r"(mask));
 174:src/../h/riscv.hpp **** }
 175:src/../h/riscv.hpp **** 
 176:src/../h/riscv.hpp **** inline void Riscv::mc_sstatus(uint64 mask) {
 177:src/../h/riscv.hpp ****     __asm__ volatile ("csrc sstatus, %[mask]" : : [mask] "r"(mask));
 178:src/../h/riscv.hpp **** }
 179:src/../h/riscv.hpp **** 
 180:src/../h/riscv.hpp **** inline uint64 Riscv::r_sstatus() {
 181:src/../h/riscv.hpp ****     uint64 volatile sstatus;
 182:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 183:src/../h/riscv.hpp ****     return sstatus;
 184:src/../h/riscv.hpp **** }
 185:src/../h/riscv.hpp **** 
 186:src/../h/riscv.hpp **** inline void Riscv::w_sstatus(uint64 sstatus) {
 187:src/../h/riscv.hpp ****     __asm__ volatile ("csrw sstatus, %[sstatus]" : : [sstatus] "r"(sstatus));
 188:src/../h/riscv.hpp **** }
 189:src/../h/riscv.hpp **** 
 190:src/../h/riscv.hpp **** inline void Riscv::w_a0(long a0) {
 191:src/../h/riscv.hpp ****     __asm__ volatile ("mv a0, %0" : : "r"(a0));
 192:src/../h/riscv.hpp **** }
 193:src/../h/riscv.hpp **** 
 194:src/../h/riscv.hpp **** inline long Riscv::r_a0() {
 195:src/../h/riscv.hpp ****     long volatile a0;
 196:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 10*8(fp)" : "=r"(a0));
 197:src/../h/riscv.hpp ****     return a0;
 198:src/../h/riscv.hpp **** }
 199:src/../h/riscv.hpp **** 
 200:src/../h/riscv.hpp **** inline void Riscv::w_a1(uint64 a1) {
 201:src/../h/riscv.hpp ****     __asm__ volatile ("mv a1, %0" : : "r"(a1));
 202:src/../h/riscv.hpp **** }
 203:src/../h/riscv.hpp **** 
 204:src/../h/riscv.hpp **** inline uint64 Riscv::r_a1() {
 205:src/../h/riscv.hpp ****     uint64 volatile a1;
GAS LISTING /tmp/ccbt2twp.s 			page 6


  72              		.loc 2 205 5
 206:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 11*8(fp)" : "=r"(a1));
  73              		.loc 2 206 5
  74              		.loc 2 206 52 is_stmt 0
  75              	#APP
  76              	# 206 "src/../h/riscv.hpp" 1
 207              	    return a1;
  77              		ld a5, 11*8(fp)
  78              	# 0 "" 2
  79              	#NO_APP
  80 0040 2330F4FA 		sd	a5,-96(s0)
  81              		.loc 2 207 5 is_stmt 1
  82              		.loc 2 207 12 is_stmt 0
  83 0044 033604FA 		ld	a2,-96(s0)
  84              	.LVL0:
  85              	.LBE61:
  86              	.LBE60:
  13:src/riscv.cpp ****     uint64 a2 = r_a2();
  87              		.loc 1 13 5 is_stmt 1
  88              	.LBB62:
  89              	.LBB63:
 208:src/../h/riscv.hpp **** }
 209:src/../h/riscv.hpp **** 
 210:src/../h/riscv.hpp **** inline void Riscv::w_a2(uint64 a2) {
 211:src/../h/riscv.hpp ****     __asm__ volatile ("mv a2, %0" : : "r"(a2));
 212:src/../h/riscv.hpp **** }
 213:src/../h/riscv.hpp **** 
 214:src/../h/riscv.hpp **** inline uint64 Riscv::r_a2() {
 215:src/../h/riscv.hpp ****     uint64 volatile a2;
  90              		.loc 2 215 5
 216:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 12*8(fp)" : "=r"(a2));
  91              		.loc 2 216 5
  92              		.loc 2 216 52 is_stmt 0
  93              	#APP
  94              	# 216 "src/../h/riscv.hpp" 1
 217              	    return a2;
  95              		ld a5, 12*8(fp)
  96              	# 0 "" 2
  97              	#NO_APP
  98 004c 233CF4F8 		sd	a5,-104(s0)
  99              		.loc 2 217 5 is_stmt 1
 100              		.loc 2 217 12 is_stmt 0
 101 0050 833584F9 		ld	a1,-104(s0)
 102              	.LVL1:
 103              	.LBE63:
 104              	.LBE62:
  14:src/riscv.cpp ****     uint64 a3 = r_a3();
 105              		.loc 1 14 5 is_stmt 1
 106              	.LBB64:
 107              	.LBB65:
 218:src/../h/riscv.hpp **** }
 219:src/../h/riscv.hpp **** 
 220:src/../h/riscv.hpp **** inline void Riscv::w_a3(uint64 a3) {
 221:src/../h/riscv.hpp ****     __asm__ volatile ("mv a3, %0" : : "r"(a3));
 222:src/../h/riscv.hpp **** }
 223:src/../h/riscv.hpp **** 
 224:src/../h/riscv.hpp **** inline uint64 Riscv::r_a3() {
GAS LISTING /tmp/ccbt2twp.s 			page 7


 225:src/../h/riscv.hpp ****     uint64 volatile a3;
 108              		.loc 2 225 5
 226:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 13*8(fp)" : "=r"(a3));
 109              		.loc 2 226 5
 110              		.loc 2 226 52 is_stmt 0
 111              	#APP
 112              	# 226 "src/../h/riscv.hpp" 1
 227              	    return a3;
 113              		ld a5, 13*8(fp)
 114              	# 0 "" 2
 115              	#NO_APP
 116 0058 2338F4F8 		sd	a5,-112(s0)
 117              		.loc 2 227 5 is_stmt 1
 118              		.loc 2 227 12 is_stmt 0
 119 005c 033504F9 		ld	a0,-112(s0)
 120              	.LVL2:
 121              	.LBE65:
 122              	.LBE64:
  15:src/riscv.cpp ****     uint64 a4 = r_a4();
 123              		.loc 1 15 5 is_stmt 1
 124              	.LBB66:
 125              	.LBB67:
 228:src/../h/riscv.hpp **** }
 229:src/../h/riscv.hpp **** 
 230:src/../h/riscv.hpp **** inline void Riscv::w_a4(uint64 a4) {
 231:src/../h/riscv.hpp ****     __asm__ volatile ("mv a4, %0" : : "r"(a4));
 232:src/../h/riscv.hpp **** }
 233:src/../h/riscv.hpp **** 
 234:src/../h/riscv.hpp **** inline uint64 Riscv::r_a4() {
 235:src/../h/riscv.hpp ****     uint64 volatile a4;
 126              		.loc 2 235 5
 236:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 14*8(fp)" : "=r"(a4));
 127              		.loc 2 236 5
 128              		.loc 2 236 52 is_stmt 0
 129              	#APP
 130              	# 236 "src/../h/riscv.hpp" 1
 237              	    return a4;
 131              		ld a5, 14*8(fp)
 132              	# 0 "" 2
 133              	#NO_APP
 134 0064 2334F4F8 		sd	a5,-120(s0)
 135              		.loc 2 237 5 is_stmt 1
 136              		.loc 2 237 12 is_stmt 0
 137 0068 033984F8 		ld	s2,-120(s0)
 138              	.LVL3:
 139              	.LBE67:
 140              	.LBE66:
  16:src/riscv.cpp ****     long a0 = r_a0();
 141              		.loc 1 16 5 is_stmt 1
 142              	.LBB68:
 143              	.LBB69:
 195:src/../h/riscv.hpp ****     __asm__ volatile ("ld %0, 10*8(fp)" : "=r"(a0));
 144              		.loc 2 195 5
 196:src/../h/riscv.hpp ****     return a0;
 145              		.loc 2 196 5
 196:src/../h/riscv.hpp ****     return a0;
 146              		.loc 2 196 52 is_stmt 0
GAS LISTING /tmp/ccbt2twp.s 			page 8


 147              	#APP
 148              	# 196 "src/../h/riscv.hpp" 1
 149              		ld a5, 10*8(fp)
 150              	# 0 "" 2
 151              	#NO_APP
 152 0070 2330F4F8 		sd	a5,-128(s0)
 197:src/../h/riscv.hpp **** }
 153              		.loc 2 197 5 is_stmt 1
 197:src/../h/riscv.hpp **** }
 154              		.loc 2 197 12 is_stmt 0
 155 0074 833704F8 		ld	a5,-128(s0)
 156              	.LVL4:
 157              	.LBE69:
 158              	.LBE68:
  17:src/riscv.cpp **** 
  18:src/riscv.cpp ****     uint64 scause = r_scause();
 159              		.loc 1 18 5 is_stmt 1
 160              	.LBB70:
 161              	.LBB71:
 115:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
 162              		.loc 2 115 5
 116:src/../h/riscv.hpp ****     return scause;
 163              		.loc 2 116 5
 116:src/../h/riscv.hpp ****     return scause;
 164              		.loc 2 116 72 is_stmt 0
 165              	#APP
 166              	# 116 "src/../h/riscv.hpp" 1
 167              		csrr a4, scause
 168              	# 0 "" 2
 169              	#NO_APP
 170 007c 233CE4F6 		sd	a4,-136(s0)
 117:src/../h/riscv.hpp **** }
 171              		.loc 2 117 5 is_stmt 1
 117:src/../h/riscv.hpp **** }
 172              		.loc 2 117 12 is_stmt 0
 173 0080 033784F7 		ld	a4,-136(s0)
 174              	.LVL5:
 175              	.LBE71:
 176              	.LBE70:
  19:src/riscv.cpp **** 
  20:src/riscv.cpp ****     if (scause == 0x0000000000000008UL || scause == 0x0000000000000009UL) {
 177              		.loc 1 20 5 is_stmt 1
 178              	.LBB72:
 179              		.loc 1 20 40 is_stmt 0
 180 0084 130887FF 		addi	a6,a4,-8
 181              		.loc 1 20 5
 182 0088 93061000 		li	a3,1
 183 008c 63FE0607 		bleu	a6,a3,.L16
 184              	.LBE72:
  21:src/riscv.cpp ****         // interrupt: no; cause code: environment call from U-mode(8) or S-mode(9)
  22:src/riscv.cpp **** 
  23:src/riscv.cpp ****         uint64 sepc = r_sepc() + 4; // jer pc pokazuje na trenutnu instrukciju tj ecall a treba na 
  24:src/riscv.cpp ****         uint64 sstatus = r_sstatus(); // cuva vrednost statusnog registra
  25:src/riscv.cpp **** 
  26:src/riscv.cpp ****         if(a0 == 0x11) { //thread_create
  27:src/riscv.cpp ****             TCB *handle = TCB::createThread((void (*)(void*))(a3), (void*)a2, (uint64*)a1);
  28:src/riscv.cpp **** 
GAS LISTING /tmp/ccbt2twp.s 			page 9


  29:src/riscv.cpp ****             if(!handle) w_a0(-1);
  30:src/riscv.cpp ****             else {
  31:src/riscv.cpp ****                 TCB** h = (TCB**)a4;
  32:src/riscv.cpp ****                 *(h) = handle;
  33:src/riscv.cpp ****                 w_a0(0);
  34:src/riscv.cpp ****             }
  35:src/riscv.cpp ****         }
  36:src/riscv.cpp ****         else if(a0 == 0x12) { // thread_exit
  37:src/riscv.cpp ****             a0 = TCB::exit();
  38:src/riscv.cpp ****             w_a0(a0);
  39:src/riscv.cpp ****         }
  40:src/riscv.cpp ****         else if(a0 == 0x13) { // thread_dispatch
  41:src/riscv.cpp ****             TCB::dispatch();
  42:src/riscv.cpp ****         }
  43:src/riscv.cpp ****         else if(a0 == 0x14) {
  44:src/riscv.cpp ****             thread_t thread = (thread_t)a1;
  45:src/riscv.cpp ****             if(!thread) w_a0(-1);
  46:src/riscv.cpp ****             else {
  47:src/riscv.cpp ****                 a0 = thread->start();
  48:src/riscv.cpp ****                 w_a0(a0);
  49:src/riscv.cpp ****             }
  50:src/riscv.cpp ****         }
  51:src/riscv.cpp **** 
  52:src/riscv.cpp ****         w_sstatus(sstatus); // restauracija statusnog registra
  53:src/riscv.cpp ****         w_sepc(sepc); // restauracija pc registra
  54:src/riscv.cpp **** 
  55:src/riscv.cpp ****     } else if (scause == 0x8000000000000001UL) {
 185              		.loc 1 55 12 is_stmt 1
 186              	.LBB134:
 187              	.LBB73:
 188 0090 9307F0FF 		li	a5,-1
 189              	.LVL6:
 190 0094 9397F703 		slli	a5,a5,63
 191 0098 93871700 		addi	a5,a5,1
 192 009c 630AF712 		beq	a4,a5,.L17
  56:src/riscv.cpp ****         // interrupt: yes; cause code: supervisor software interrupt (CLINT; machine timer interrup
  57:src/riscv.cpp ****         TCB::timeSliceCounter++;
  58:src/riscv.cpp ****         if (TCB::timeSliceCounter >= TCB::running->getTimeSlice())
  59:src/riscv.cpp ****         {
  60:src/riscv.cpp ****             uint64 sepc = r_sepc();
  61:src/riscv.cpp ****             uint64 sstatus = r_sstatus();
  62:src/riscv.cpp **** 
  63:src/riscv.cpp ****             TCB::dispatch();
  64:src/riscv.cpp **** 
  65:src/riscv.cpp ****             w_sstatus(sstatus);
  66:src/riscv.cpp ****             w_sepc(sepc);
  67:src/riscv.cpp ****         }
  68:src/riscv.cpp ****         mc_sip(SIP_SSIP);
  69:src/riscv.cpp ****     } else if (scause == 0x8000000000000009UL) {
 193              		.loc 1 69 12
 194 00a0 9307F0FF 		li	a5,-1
 195 00a4 9397F703 		slli	a5,a5,63
 196 00a8 93879700 		addi	a5,a5,9
 197 00ac 6302F718 		beq	a4,a5,.L18
  70:src/riscv.cpp ****         // interrupt: yes; cause code: supervisor external interrupt (PLIC; could be keyboard)
  71:src/riscv.cpp ****         console_handler();
  72:src/riscv.cpp ****     } else {
GAS LISTING /tmp/ccbt2twp.s 			page 10


  73:src/riscv.cpp ****         // unexpected trap cause
  74:src/riscv.cpp ****         printInt(scause);
 198              		.loc 1 74 9
 199              		.loc 1 74 17 is_stmt 0
 200 00b0 13060000 		li	a2,0
 201              	.LVL7:
 202 00b4 9305A000 		li	a1,10
 203              	.LVL8:
 204 00b8 1B050700 		sext.w	a0,a4
 205              	.LVL9:
 206 00bc 97000000 		call	_Z8printIntiii@plt
 206      E7800000 
 207              	.LVL10:
  75:src/riscv.cpp ****         printString("\n");
 208              		.loc 1 75 9 is_stmt 1
 209              		.loc 1 75 20 is_stmt 0
 210 00c4 17050000 		lla	a0,.LC0
 210      13050500 
 211 00cc 97000000 		call	_Z11printStringPKc@plt
 211      E7800000 
 212              	.LVL11:
  76:src/riscv.cpp ****         printInt(r_sepc());
 213              		.loc 1 76 9 is_stmt 1
 214              	.LBB74:
 215              	.LBB75:
 125:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 216              		.loc 2 125 5
 126:src/../h/riscv.hpp ****     return sepc;
 217              		.loc 2 126 5
 126:src/../h/riscv.hpp ****     return sepc;
 218              		.loc 2 126 64 is_stmt 0
 219              	#APP
 220              	# 126 "src/../h/riscv.hpp" 1
 221              		csrr a5, sepc
 222              	# 0 "" 2
 223              	#NO_APP
 224 00d8 2334F4FC 		sd	a5,-56(s0)
 127:src/../h/riscv.hpp **** }
 225              		.loc 2 127 5 is_stmt 1
 127:src/../h/riscv.hpp **** }
 226              		.loc 2 127 12 is_stmt 0
 227 00dc 033584FC 		ld	a0,-56(s0)
 228              	.LBE75:
 229              	.LBE74:
 230              		.loc 1 76 17
 231 00e0 13060000 		li	a2,0
 232 00e4 9305A000 		li	a1,10
 233 00e8 1B050500 		sext.w	a0,a0
 234 00ec 97000000 		call	_Z8printIntiii@plt
 234      E7800000 
 235              	.LVL12:
  77:src/riscv.cpp ****         printString("\n");
 236              		.loc 1 77 9 is_stmt 1
 237              		.loc 1 77 20 is_stmt 0
 238 00f4 17050000 		lla	a0,.LC0
 238      13050500 
 239 00fc 97000000 		call	_Z11printStringPKc@plt
GAS LISTING /tmp/ccbt2twp.s 			page 11


 239      E7800000 
 240              	.LVL13:
 241              	.LBE73:
 242              	.LBE134:
  78:src/riscv.cpp ****     }
  79:src/riscv.cpp **** }...
 243              		.loc 1 79 1
 244 0104 6F008004 		j	.L3
 245              	.LVL14:
 246              	.L16:
 247              	.LBB135:
 248              	.LBB92:
  23:src/riscv.cpp ****         uint64 sepc = r_sepc() + 4; // jer pc pokazuje na trenutnu instrukciju tj ecall a treba na 
 249              		.loc 1 23 9 is_stmt 1
 250              	.LBB93:
 251              	.LBB94:
 125:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 252              		.loc 2 125 5
 126:src/../h/riscv.hpp ****     return sepc;
 253              		.loc 2 126 5
 126:src/../h/riscv.hpp ****     return sepc;
 254              		.loc 2 126 64 is_stmt 0
 255              	#APP
 256              	# 126 "src/../h/riscv.hpp" 1
 257              		csrr a4, sepc
 258              	# 0 "" 2
 259              	.LVL15:
 260              	#NO_APP
 261 010c 2338E4FA 		sd	a4,-80(s0)
 127:src/../h/riscv.hpp **** }
 262              		.loc 2 127 5 is_stmt 1
 127:src/../h/riscv.hpp **** }
 263              		.loc 2 127 12 is_stmt 0
 264 0110 833404FB 		ld	s1,-80(s0)
 265              	.LBE94:
 266              	.LBE93:
  23:src/riscv.cpp ****         uint64 sepc = r_sepc() + 4; // jer pc pokazuje na trenutnu instrukciju tj ecall a treba na 
 267              		.loc 1 23 34
 268 0114 93844400 		addi	s1,s1,4
 269              	.LVL16:
  24:src/riscv.cpp ****         uint64 sstatus = r_sstatus(); // cuva vrednost statusnog registra
 270              		.loc 1 24 9 is_stmt 1
 271              	.LBB95:
 272              	.LBB96:
 181:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 273              		.loc 2 181 5
 182:src/../h/riscv.hpp ****     return sstatus;
 274              		.loc 2 182 5
 182:src/../h/riscv.hpp ****     return sstatus;
 275              		.loc 2 182 76 is_stmt 0
 276              	#APP
 277              	# 182 "src/../h/riscv.hpp" 1
 278              		csrr a4, sstatus
 279              	# 0 "" 2
 280              	#NO_APP
 281 011c 2334E4FA 		sd	a4,-88(s0)
 183:src/../h/riscv.hpp **** }
GAS LISTING /tmp/ccbt2twp.s 			page 12


 282              		.loc 2 183 5 is_stmt 1
 183:src/../h/riscv.hpp **** }
 283              		.loc 2 183 12 is_stmt 0
 284 0120 833984FA 		ld	s3,-88(s0)
 285              	.LVL17:
 286              	.LBE96:
 287              	.LBE95:
  26:src/riscv.cpp ****         if(a0 == 0x11) { //thread_create
 288              		.loc 1 26 9 is_stmt 1
 289              	.LBB97:
 290 0124 13071001 		li	a4,17
 291 0128 6380E704 		beq	a5,a4,.L19
 292              	.LBE97:
 293              	.LBE92:
 294              	.LBE135:
  36:src/riscv.cpp ****         else if(a0 == 0x12) { // thread_exit
 295              		.loc 1 36 14
 296              	.LBB136:
 297              	.LBB129:
 298              	.LBB121:
 299              	.LBB98:
 300 012c 13072001 		li	a4,18
 301 0130 6380E706 		beq	a5,a4,.L20
 302              	.LBE98:
 303              	.LBE121:
 304              	.LBE129:
 305              	.LBE136:
  40:src/riscv.cpp ****         else if(a0 == 0x13) { // thread_dispatch
 306              		.loc 1 40 14
 307              	.LBB137:
 308              	.LBB130:
 309              	.LBB122:
 310              	.LBB111:
 311              	.LBB99:
 312 0134 13073001 		li	a4,19
 313 0138 6384E706 		beq	a5,a4,.L21
 314              	.LBE99:
 315              	.LBE111:
 316              	.LBE122:
 317              	.LBE130:
 318              	.LBE137:
  43:src/riscv.cpp ****         else if(a0 == 0x14) {
 319              		.loc 1 43 14
 320              	.LBB138:
 321              	.LBB131:
 322              	.LBB123:
 323              	.LBB112:
 324              	.LBB107:
 325              	.LBB100:
 326 013c 13074001 		li	a4,20
 327 0140 6386E706 		beq	a5,a4,.L22
 328              	.LVL18:
 329              	.L7:
 330              	.LBE100:
 331              	.LBE107:
 332              	.LBE112:
 333              	.LBE123:
GAS LISTING /tmp/ccbt2twp.s 			page 13


  52:src/riscv.cpp ****         w_sstatus(sstatus); // restauracija statusnog registra
 334              		.loc 1 52 9
 335              	.LBB124:
 336              	.LBB125:
 187:src/../h/riscv.hpp **** }
 337              		.loc 2 187 5
 187:src/../h/riscv.hpp **** }
 338              		.loc 2 187 77 is_stmt 0
 339              	#APP
 340              	# 187 "src/../h/riscv.hpp" 1
 341              		csrw sstatus, s3
 342              	# 0 "" 2
 343              	.LVL19:
 344              	#NO_APP
 345              	.LBE125:
 346              	.LBE124:
  53:src/riscv.cpp ****         w_sepc(sepc); // restauracija pc registra
 347              		.loc 1 53 9 is_stmt 1
 348              	.LBB126:
 349              	.LBB127:
 131:src/../h/riscv.hpp **** }
 350              		.loc 2 131 5
 131:src/../h/riscv.hpp **** }
 351              		.loc 2 131 65 is_stmt 0
 352              	#APP
 353              	# 131 "src/../h/riscv.hpp" 1
 354              		csrw sepc, s1
 355              	# 0 "" 2
 356              	.LVL20:
 357              	#NO_APP
 358              	.L3:
 359              	.LBE127:
 360              	.LBE126:
 361              	.LBE131:
 362              	.LBE138:
 363              		.loc 1 79 1
 364 014c 83308108 		ld	ra,136(sp)
 365              		.cfi_remember_state
 366              		.cfi_restore 1
 367 0150 03340108 		ld	s0,128(sp)
 368              		.cfi_restore 8
 369              		.cfi_def_cfa 2, 144
 370 0154 83348107 		ld	s1,120(sp)
 371              		.cfi_restore 9
 372 0158 03390107 		ld	s2,112(sp)
 373              		.cfi_restore 18
 374 015c 83398106 		ld	s3,104(sp)
 375              		.cfi_restore 19
 376 0160 13010109 		addi	sp,sp,144
 377              		.cfi_def_cfa_offset 0
 378 0164 67800000 		jr	ra
 379              	.LVL21:
 380              	.L19:
 381              		.cfi_restore_state
 382              	.LBB139:
 383              	.LBB132:
 384              	.LBB128:
GAS LISTING /tmp/ccbt2twp.s 			page 14


 385              	.LBB113:
  27:src/riscv.cpp ****             TCB *handle = TCB::createThread((void (*)(void*))(a3), (void*)a2, (uint64*)a1);
 386              		.loc 1 27 13 is_stmt 1
  27:src/riscv.cpp ****             TCB *handle = TCB::createThread((void (*)(void*))(a3), (void*)a2, (uint64*)a1);
 387              		.loc 1 27 44 is_stmt 0
 388 0168 97000000 		call	_ZN3TCB12createThreadEPFvPvES0_Pm@plt
 388      E7800000 
 389              	.LVL22:
  29:src/riscv.cpp ****             if(!handle) w_a0(-1);
 390              		.loc 1 29 13 is_stmt 1
 391              	.LBB114:
 392 0170 630A0500 		beqz	a0,.L23
 393              	.LBB115:
  31:src/riscv.cpp ****                 TCB** h = (TCB**)a4;
 394              		.loc 1 31 17
 395              	.LVL23:
  32:src/riscv.cpp ****                 *(h) = handle;
 396              		.loc 1 32 17
  32:src/riscv.cpp ****                 *(h) = handle;
 397              		.loc 1 32 22 is_stmt 0
 398 0174 2330A900 		sd	a0,0(s2)
  33:src/riscv.cpp ****                 w_a0(0);
 399              		.loc 1 33 17 is_stmt 1
 400              	.LVL24:
 401              	.LBB116:
 402              	.LBB117:
 191:src/../h/riscv.hpp **** }
 403              		.loc 2 191 5
 191:src/../h/riscv.hpp **** }
 404              		.loc 2 191 47 is_stmt 0
 405 0178 93070000 		li	a5,0
 406              	#APP
 407              	# 191 "src/../h/riscv.hpp" 1
 192:src/../h/riscv.hpp **** 
 408              		mv a0, a5
 409              	# 0 "" 2
 410              		.loc 2 192 1
 411              	#NO_APP
 412 0180 6FF05FFC 		j	.L7
 413              	.LVL25:
 414              	.L23:
 415              	.LBE117:
 416              	.LBE116:
 417              	.LBE115:
  29:src/riscv.cpp ****             if(!handle) w_a0(-1);
 418              		.loc 1 29 25 is_stmt 1
 419              	.LBB118:
 420              	.LBB119:
 191:src/../h/riscv.hpp **** }
 421              		.loc 2 191 5
 191:src/../h/riscv.hpp **** }
 422              		.loc 2 191 47 is_stmt 0
 423 0184 9307F0FF 		li	a5,-1
 424              	#APP
 425              	# 191 "src/../h/riscv.hpp" 1
 192:src/../h/riscv.hpp **** 
 426              		mv a0, a5
GAS LISTING /tmp/ccbt2twp.s 			page 15


 427              	# 0 "" 2
 428              		.loc 2 192 1
 429              	#NO_APP
 430 018c 6FF09FFB 		j	.L7
 431              	.LVL26:
 432              	.L20:
 433              	.LBE119:
 434              	.LBE118:
 435              	.LBE114:
 436              	.LBE113:
 437              	.LBB120:
  37:src/riscv.cpp ****             a0 = TCB::exit();
 438              		.loc 1 37 13 is_stmt 1
  37:src/riscv.cpp ****             a0 = TCB::exit();
 439              		.loc 1 37 27 is_stmt 0
 440 0190 97000000 		call	_ZN3TCB4exitEv@plt
 440      E7800000 
 441              	.LVL27:
  38:src/riscv.cpp ****             w_a0(a0);
 442              		.loc 1 38 13 is_stmt 1
 443              	.LBB108:
 444              	.LBB109:
 191:src/../h/riscv.hpp **** }
 445              		.loc 2 191 5
 191:src/../h/riscv.hpp **** }
 446              		.loc 2 191 47 is_stmt 0
 447              	#APP
 448              	# 191 "src/../h/riscv.hpp" 1
 192:src/../h/riscv.hpp **** 
 449              		mv a0, a0
 450              	# 0 "" 2
 451              		.loc 2 192 1
 452              	#NO_APP
 453 019c 6FF09FFA 		j	.L7
 454              	.LVL28:
 455              	.L21:
 456              	.LBE109:
 457              	.LBE108:
 458              	.LBB110:
  41:src/riscv.cpp ****             TCB::dispatch();
 459              		.loc 1 41 13 is_stmt 1
  41:src/riscv.cpp ****             TCB::dispatch();
 460              		.loc 1 41 26 is_stmt 0
 461 01a0 97000000 		call	_ZN3TCB8dispatchEv@plt
 461      E7800000 
 462              	.LVL29:
 463 01a8 6FF0DFF9 		j	.L7
 464              	.LVL30:
 465              	.L22:
 466              	.LBB106:
 467              	.LBB101:
  44:src/riscv.cpp ****             thread_t thread = (thread_t)a1;
 468              		.loc 1 44 13 is_stmt 1
  45:src/riscv.cpp ****             if(!thread) w_a0(-1);
 469              		.loc 1 45 13
 470 01ac 63180600 		bnez	a2,.L10
  45:src/riscv.cpp ****             if(!thread) w_a0(-1);
GAS LISTING /tmp/ccbt2twp.s 			page 16


 471              		.loc 1 45 25
 472              	.LVL31:
 473              	.LBB102:
 474              	.LBB103:
 191:src/../h/riscv.hpp **** }
 475              		.loc 2 191 5
 191:src/../h/riscv.hpp **** }
 476              		.loc 2 191 47 is_stmt 0
 477 01b0 9307F0FF 		li	a5,-1
 478              	.LVL32:
 479              	#APP
 480              	# 191 "src/../h/riscv.hpp" 1
 192:src/../h/riscv.hpp **** 
 481              		mv a0, a5
 482              	# 0 "" 2
 483              		.loc 2 192 1
 484              	#NO_APP
 485 01b8 6FF0DFF8 		j	.L7
 486              	.LVL33:
 487              	.L10:
 488              	.LBE103:
 489              	.LBE102:
  47:src/riscv.cpp ****                 a0 = thread->start();
 490              		.loc 1 47 17 is_stmt 1
  47:src/riscv.cpp ****                 a0 = thread->start();
 491              		.loc 1 47 35 is_stmt 0
 492 01bc 13050600 		mv	a0,a2
 493              	.LVL34:
 494 01c0 97000000 		call	_ZN3TCB5startEv@plt
 494      E7800000 
 495              	.LVL35:
  48:src/riscv.cpp ****                 w_a0(a0);
 496              		.loc 1 48 17 is_stmt 1
 497              	.LBB104:
 498              	.LBB105:
 191:src/../h/riscv.hpp **** }
 499              		.loc 2 191 5
 191:src/../h/riscv.hpp **** }
 500              		.loc 2 191 47 is_stmt 0
 501              	#APP
 502              	# 191 "src/../h/riscv.hpp" 1
 192:src/../h/riscv.hpp **** 
 503              		mv a0, a0
 504              	# 0 "" 2
 505              		.loc 2 192 1
 506              	#NO_APP
 507 01cc 6FF09FF7 		j	.L7
 508              	.LVL36:
 509              	.L17:
 510              	.LBE105:
 511              	.LBE104:
 512              	.LBE101:
 513              	.LBE106:
 514              	.LBE110:
 515              	.LBE120:
 516              	.LBE128:
 517              	.LBE132:
GAS LISTING /tmp/ccbt2twp.s 			page 17


 518              	.LBB133:
 519              	.LBB76:
  57:src/riscv.cpp ****         TCB::timeSliceCounter++;
 520              		.loc 1 57 9 is_stmt 1
  57:src/riscv.cpp ****         TCB::timeSliceCounter++;
 521              		.loc 1 57 30 is_stmt 0
 522 01d0 17070000 		la	a4,_ZN3TCB16timeSliceCounterE
 522      03370700 
 523              	.LVL37:
 524 01d8 83370700 		ld	a5,0(a4)
 525 01dc 93871700 		addi	a5,a5,1
 526 01e0 2330F700 		sd	a5,0(a4)
  58:src/riscv.cpp ****         if (TCB::timeSliceCounter >= TCB::running->getTimeSlice())
 527              		.loc 1 58 9 is_stmt 1
 528              	.LBB77:
  58:src/riscv.cpp ****         if (TCB::timeSliceCounter >= TCB::running->getTimeSlice())
 529              		.loc 1 58 64 is_stmt 0
 530 01e4 17070000 		la	a4,_ZN3TCB7runningE
 530      03370700 
 531 01ec 03370700 		ld	a4,0(a4)
 532              	.LVL38:
 533              	.LBB78:
 534              	.LBB79:
 535              		.file 3 "src/../h/tcb.hpp"
   1:src/../h/tcb.hpp **** #ifndef TCB_HPP
   2:src/../h/tcb.hpp **** #define TCB_HPP
   3:src/../h/tcb.hpp **** 
   4:src/../h/tcb.hpp **** #include "../lib/hw.h"
   5:src/../h/tcb.hpp **** #include "scheduler.hpp"
   6:src/../h/tcb.hpp **** #include "../test/printing.hpp"
   7:src/../h/tcb.hpp **** 
   8:src/../h/tcb.hpp **** // Thread Control Block
   9:src/../h/tcb.hpp **** class TCB
  10:src/../h/tcb.hpp **** {
  11:src/../h/tcb.hpp **** public:
  12:src/../h/tcb.hpp ****     enum State {CREATED, READY, RUNNING, FINISHED};
  13:src/../h/tcb.hpp **** 
  14:src/../h/tcb.hpp ****     ~TCB() { delete[] stack; }
  15:src/../h/tcb.hpp **** 
  16:src/../h/tcb.hpp ****     bool isFinished() const { return this->state == FINISHED; }
  17:src/../h/tcb.hpp **** 
  18:src/../h/tcb.hpp ****     uint64 getTimeSlice() const { return timeSlice; }
 536              		.loc 3 18 35 is_stmt 1
 537              		.loc 3 18 42 is_stmt 0
 538 01f0 03370703 		ld	a4,48(a4)
 539              	.LVL39:
 540              	.LBE79:
 541              	.LBE78:
  58:src/riscv.cpp ****         if (TCB::timeSliceCounter >= TCB::running->getTimeSlice())
 542              		.loc 1 58 9
 543 01f4 63F8E700 		bgeu	a5,a4,.L24
 544              	.LVL40:
 545              	.L13:
 546              	.LBE77:
  68:src/riscv.cpp ****         mc_sip(SIP_SSIP);
 547              		.loc 1 68 9 is_stmt 1
 548              	.LBB89:
GAS LISTING /tmp/ccbt2twp.s 			page 18


 549              	.LBB90:
 159:src/../h/riscv.hpp **** }
 550              		.loc 2 159 5
 159:src/../h/riscv.hpp **** }
 551              		.loc 2 159 64 is_stmt 0
 552 01f8 93072000 		li	a5,2
 553              	#APP
 554              	# 159 "src/../h/riscv.hpp" 1
 160:src/../h/riscv.hpp **** 
 555              		csrc sip, a5
 556              	# 0 "" 2
 557              		.loc 2 160 1
 558              	#NO_APP
 559 0200 6FF0DFF4 		j	.L3
 560              	.LVL41:
 561              	.L24:
 562              	.LBE90:
 563              	.LBE89:
 564              	.LBB91:
 565              	.LBB80:
  60:src/riscv.cpp ****             uint64 sepc = r_sepc();
 566              		.loc 1 60 13 is_stmt 1
 567              	.LBB81:
 568              	.LBB82:
 125:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 569              		.loc 2 125 5
 126:src/../h/riscv.hpp ****     return sepc;
 570              		.loc 2 126 5
 126:src/../h/riscv.hpp ****     return sepc;
 571              		.loc 2 126 64 is_stmt 0
 572              	#APP
 573              	# 126 "src/../h/riscv.hpp" 1
 574              		csrr a5, sepc
 575              	# 0 "" 2
 576              	#NO_APP
 577 0208 2330F4FC 		sd	a5,-64(s0)
 127:src/../h/riscv.hpp **** }
 578              		.loc 2 127 5 is_stmt 1
 127:src/../h/riscv.hpp **** }
 579              		.loc 2 127 12 is_stmt 0
 580 020c 833404FC 		ld	s1,-64(s0)
 581              	.LVL42:
 582              	.LBE82:
 583              	.LBE81:
  61:src/riscv.cpp ****             uint64 sstatus = r_sstatus();
 584              		.loc 1 61 13 is_stmt 1
 585              	.LBB83:
 586              	.LBB84:
 181:src/../h/riscv.hpp ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 587              		.loc 2 181 5
 182:src/../h/riscv.hpp ****     return sstatus;
 588              		.loc 2 182 5
 182:src/../h/riscv.hpp ****     return sstatus;
 589              		.loc 2 182 76 is_stmt 0
 590              	#APP
 591              	# 182 "src/../h/riscv.hpp" 1
 592              		csrr a5, sstatus
GAS LISTING /tmp/ccbt2twp.s 			page 19


 593              	# 0 "" 2
 594              	#NO_APP
 595 0214 233CF4FA 		sd	a5,-72(s0)
 183:src/../h/riscv.hpp **** }
 596              		.loc 2 183 5 is_stmt 1
 183:src/../h/riscv.hpp **** }
 597              		.loc 2 183 12 is_stmt 0
 598 0218 033984FB 		ld	s2,-72(s0)
 599              	.LVL43:
 600              	.LBE84:
 601              	.LBE83:
  63:src/riscv.cpp ****             TCB::dispatch();
 602              		.loc 1 63 13 is_stmt 1
  63:src/riscv.cpp ****             TCB::dispatch();
 603              		.loc 1 63 26 is_stmt 0
 604 021c 97000000 		call	_ZN3TCB8dispatchEv@plt
 604      E7800000 
 605              	.LVL44:
  65:src/riscv.cpp ****             w_sstatus(sstatus);
 606              		.loc 1 65 13 is_stmt 1
 607              	.LBB85:
 608              	.LBB86:
 187:src/../h/riscv.hpp **** }
 609              		.loc 2 187 5
 187:src/../h/riscv.hpp **** }
 610              		.loc 2 187 77 is_stmt 0
 611              	#APP
 612              	# 187 "src/../h/riscv.hpp" 1
 613              		csrw sstatus, s2
 614              	# 0 "" 2
 615              	.LVL45:
 616              	#NO_APP
 617              	.LBE86:
 618              	.LBE85:
  66:src/riscv.cpp ****             w_sepc(sepc);
 619              		.loc 1 66 13 is_stmt 1
 620              	.LBB87:
 621              	.LBB88:
 131:src/../h/riscv.hpp **** }
 622              		.loc 2 131 5
 131:src/../h/riscv.hpp **** }
 623              		.loc 2 131 65 is_stmt 0
 624              	#APP
 625              	# 131 "src/../h/riscv.hpp" 1
 132:src/../h/riscv.hpp **** 
 626              		csrw sepc, s1
 627              	# 0 "" 2
 628              		.loc 2 132 1
 629              	#NO_APP
 630 022c 6FF0DFFC 		j	.L13
 631              	.LVL46:
 632              	.L18:
 633              	.LBE88:
 634              	.LBE87:
 635              	.LBE80:
 636              	.LBE91:
 637              	.LBE76:
GAS LISTING /tmp/ccbt2twp.s 			page 20


  71:src/riscv.cpp ****         console_handler();
 638              		.loc 1 71 9 is_stmt 1
  71:src/riscv.cpp ****         console_handler();
 639              		.loc 1 71 24 is_stmt 0
 640 0230 97000000 		call	console_handler@plt
 640      E7800000 
 641              	.LVL47:
 642 0238 6FF05FF1 		j	.L3
 643              	.LBE133:
 644              	.LBE139:
 645              		.cfi_endproc
 646              	.LFE43:
 648              	.Letext0:
 649              		.file 4 "src/../h/../lib/hw.h"
 650              		.file 5 "src/../h/../test/../h/syscall_c.hpp"
 651              		.file 6 "src/../h/../test/printing.hpp"
 652              		.file 7 "src/../lib/console.h"
GAS LISTING /tmp/ccbt2twp.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 riscv.cpp
     /tmp/ccbt2twp.s:9      .text:0000000000000000 _ZN5Riscv10popSppSpieEv
     /tmp/ccbt2twp.s:13     .text:0000000000000000 .L0 
     /tmp/ccbt2twp.s:14     .text:0000000000000000 .L0 
     /tmp/ccbt2twp.s:15     .text:0000000000000004 .L0 
     /tmp/ccbt2twp.s:17     .text:0000000000000008 .L0 
     /tmp/ccbt2twp.s:19     .text:000000000000000c .L0 
     /tmp/ccbt2twp.s:21     .text:000000000000000c .L0 
       src/riscv.cpp:7      .text:000000000000000c .L0 
     /tmp/ccbt2twp.s:27     .text:0000000000000010 .L0 
       src/riscv.cpp:8      .text:0000000000000010 .L0 
     /tmp/ccbt2twp.s:33     .text:0000000000000014 .L0 
     /tmp/ccbt2twp.s:34     .text:0000000000000018 .L0 
     /tmp/ccbt2twp.s:35     .text:0000000000000018 .L0 
     /tmp/ccbt2twp.s:37     .text:000000000000001c .L0 
     /tmp/ccbt2twp.s:39     .text:0000000000000020 .L0 
     /tmp/ccbt2twp.s:50     .text:0000000000000020 _ZN5Riscv20handleSupervisorTrapEv
     /tmp/ccbt2twp.s:53     .text:0000000000000020 .L0 
     /tmp/ccbt2twp.s:54     .text:0000000000000020 .L0 
     /tmp/ccbt2twp.s:55     .text:0000000000000024 .L0 
     /tmp/ccbt2twp.s:61     .text:0000000000000038 .L0 
     /tmp/ccbt2twp.s:62     .text:0000000000000038 .L0 
     /tmp/ccbt2twp.s:63     .text:0000000000000038 .L0 
     /tmp/ccbt2twp.s:64     .text:0000000000000038 .L0 
     /tmp/ccbt2twp.s:65     .text:0000000000000038 .L0 
     /tmp/ccbt2twp.s:67     .text:000000000000003c .L0 
     /tmp/ccbt2twp.s:72     .text:000000000000003c .L0 
     /tmp/ccbt2twp.s:73     .text:000000000000003c .L0 
     /tmp/ccbt2twp.s:74     .text:000000000000003c .L0 
  src/../h/riscv.hpp:206    .text:000000000000003c .L0 
     /tmp/ccbt2twp.s:82     .text:0000000000000044 .L0 
     /tmp/ccbt2twp.s:83     .text:0000000000000044 .L0 
     /tmp/ccbt2twp.s:90     .text:0000000000000048 .L0 
     /tmp/ccbt2twp.s:91     .text:0000000000000048 .L0 
     /tmp/ccbt2twp.s:92     .text:0000000000000048 .L0 
  src/../h/riscv.hpp:216    .text:0000000000000048 .L0 
     /tmp/ccbt2twp.s:100    .text:0000000000000050 .L0 
     /tmp/ccbt2twp.s:101    .text:0000000000000050 .L0 
     /tmp/ccbt2twp.s:108    .text:0000000000000054 .L0 
     /tmp/ccbt2twp.s:109    .text:0000000000000054 .L0 
     /tmp/ccbt2twp.s:110    .text:0000000000000054 .L0 
  src/../h/riscv.hpp:226    .text:0000000000000054 .L0 
     /tmp/ccbt2twp.s:118    .text:000000000000005c .L0 
     /tmp/ccbt2twp.s:119    .text:000000000000005c .L0 
     /tmp/ccbt2twp.s:126    .text:0000000000000060 .L0 
     /tmp/ccbt2twp.s:127    .text:0000000000000060 .L0 
     /tmp/ccbt2twp.s:128    .text:0000000000000060 .L0 
  src/../h/riscv.hpp:236    .text:0000000000000060 .L0 
     /tmp/ccbt2twp.s:136    .text:0000000000000068 .L0 
     /tmp/ccbt2twp.s:137    .text:0000000000000068 .L0 
     /tmp/ccbt2twp.s:144    .text:000000000000006c .L0 
     /tmp/ccbt2twp.s:145    .text:000000000000006c .L0 
     /tmp/ccbt2twp.s:146    .text:000000000000006c .L0 
  src/../h/riscv.hpp:196    .text:000000000000006c .L0 
     /tmp/ccbt2twp.s:154    .text:0000000000000074 .L0 
     /tmp/ccbt2twp.s:155    .text:0000000000000074 .L0 
GAS LISTING /tmp/ccbt2twp.s 			page 22


     /tmp/ccbt2twp.s:162    .text:0000000000000078 .L0 
     /tmp/ccbt2twp.s:163    .text:0000000000000078 .L0 
     /tmp/ccbt2twp.s:164    .text:0000000000000078 .L0 
  src/../h/riscv.hpp:116    .text:0000000000000078 .L0 
     /tmp/ccbt2twp.s:172    .text:0000000000000080 .L0 
     /tmp/ccbt2twp.s:173    .text:0000000000000080 .L0 
     /tmp/ccbt2twp.s:179    .text:0000000000000084 .L0 
     /tmp/ccbt2twp.s:180    .text:0000000000000084 .L0 
     /tmp/ccbt2twp.s:182    .text:0000000000000088 .L0 
     /tmp/ccbt2twp.s:188    .text:0000000000000090 .L0 
     /tmp/ccbt2twp.s:194    .text:00000000000000a0 .L0 
     /tmp/ccbt2twp.s:199    .text:00000000000000b0 .L0 
     /tmp/ccbt2twp.s:200    .text:00000000000000b0 .L0 
     /tmp/ccbt2twp.s:209    .text:00000000000000c4 .L0 
     /tmp/ccbt2twp.s:210    .text:00000000000000c4 .L0 
     /tmp/ccbt2twp.s:216    .text:00000000000000d4 .L0 
     /tmp/ccbt2twp.s:217    .text:00000000000000d4 .L0 
     /tmp/ccbt2twp.s:218    .text:00000000000000d4 .L0 
  src/../h/riscv.hpp:126    .text:00000000000000d4 .L0 
     /tmp/ccbt2twp.s:226    .text:00000000000000dc .L0 
     /tmp/ccbt2twp.s:227    .text:00000000000000dc .L0 
     /tmp/ccbt2twp.s:231    .text:00000000000000e0 .L0 
     /tmp/ccbt2twp.s:237    .text:00000000000000f4 .L0 
     /tmp/ccbt2twp.s:238    .text:00000000000000f4 .L0 
     /tmp/ccbt2twp.s:244    .text:0000000000000104 .L0 
     /tmp/ccbt2twp.s:252    .text:0000000000000108 .L0 
     /tmp/ccbt2twp.s:253    .text:0000000000000108 .L0 
     /tmp/ccbt2twp.s:254    .text:0000000000000108 .L0 
  src/../h/riscv.hpp:126    .text:0000000000000108 .L0 
     /tmp/ccbt2twp.s:263    .text:0000000000000110 .L0 
     /tmp/ccbt2twp.s:264    .text:0000000000000110 .L0 
     /tmp/ccbt2twp.s:268    .text:0000000000000114 .L0 
     /tmp/ccbt2twp.s:273    .text:0000000000000118 .L0 
     /tmp/ccbt2twp.s:274    .text:0000000000000118 .L0 
     /tmp/ccbt2twp.s:275    .text:0000000000000118 .L0 
  src/../h/riscv.hpp:182    .text:0000000000000118 .L0 
     /tmp/ccbt2twp.s:283    .text:0000000000000120 .L0 
     /tmp/ccbt2twp.s:284    .text:0000000000000120 .L0 
     /tmp/ccbt2twp.s:290    .text:0000000000000124 .L0 
     /tmp/ccbt2twp.s:300    .text:000000000000012c .L0 
     /tmp/ccbt2twp.s:312    .text:0000000000000134 .L0 
     /tmp/ccbt2twp.s:326    .text:000000000000013c .L0 
     /tmp/ccbt2twp.s:337    .text:0000000000000144 .L0 
     /tmp/ccbt2twp.s:338    .text:0000000000000144 .L0 
  src/../h/riscv.hpp:187    .text:0000000000000144 .L0 
     /tmp/ccbt2twp.s:350    .text:0000000000000148 .L0 
     /tmp/ccbt2twp.s:351    .text:0000000000000148 .L0 
  src/../h/riscv.hpp:131    .text:0000000000000148 .L0 
     /tmp/ccbt2twp.s:364    .text:000000000000014c .L0 
     /tmp/ccbt2twp.s:365    .text:0000000000000150 .L0 
     /tmp/ccbt2twp.s:366    .text:0000000000000150 .L0 
     /tmp/ccbt2twp.s:368    .text:0000000000000154 .L0 
     /tmp/ccbt2twp.s:369    .text:0000000000000154 .L0 
     /tmp/ccbt2twp.s:371    .text:0000000000000158 .L0 
     /tmp/ccbt2twp.s:373    .text:000000000000015c .L0 
     /tmp/ccbt2twp.s:375    .text:0000000000000160 .L0 
     /tmp/ccbt2twp.s:377    .text:0000000000000164 .L0 
GAS LISTING /tmp/ccbt2twp.s 			page 23


     /tmp/ccbt2twp.s:381    .text:0000000000000168 .L0 
     /tmp/ccbt2twp.s:387    .text:0000000000000168 .L0 
     /tmp/ccbt2twp.s:388    .text:0000000000000168 .L0 
     /tmp/ccbt2twp.s:392    .text:0000000000000170 .L0 
     /tmp/ccbt2twp.s:396    .text:0000000000000174 .L0 
     /tmp/ccbt2twp.s:397    .text:0000000000000174 .L0 
     /tmp/ccbt2twp.s:398    .text:0000000000000174 .L0 
     /tmp/ccbt2twp.s:403    .text:0000000000000178 .L0 
     /tmp/ccbt2twp.s:404    .text:0000000000000178 .L0 
     /tmp/ccbt2twp.s:405    .text:0000000000000178 .L0 
     /tmp/ccbt2twp.s:412    .text:0000000000000180 .L0 
     /tmp/ccbt2twp.s:421    .text:0000000000000184 .L0 
     /tmp/ccbt2twp.s:422    .text:0000000000000184 .L0 
     /tmp/ccbt2twp.s:423    .text:0000000000000184 .L0 
     /tmp/ccbt2twp.s:430    .text:000000000000018c .L0 
     /tmp/ccbt2twp.s:439    .text:0000000000000190 .L0 
     /tmp/ccbt2twp.s:440    .text:0000000000000190 .L0 
     /tmp/ccbt2twp.s:445    .text:0000000000000198 .L0 
     /tmp/ccbt2twp.s:446    .text:0000000000000198 .L0 
  src/../h/riscv.hpp:191    .text:0000000000000198 .L0 
     /tmp/ccbt2twp.s:453    .text:000000000000019c .L0 
     /tmp/ccbt2twp.s:460    .text:00000000000001a0 .L0 
     /tmp/ccbt2twp.s:461    .text:00000000000001a0 .L0 
     /tmp/ccbt2twp.s:469    .text:00000000000001ac .L0 
     /tmp/ccbt2twp.s:470    .text:00000000000001ac .L0 
     /tmp/ccbt2twp.s:475    .text:00000000000001b0 .L0 
     /tmp/ccbt2twp.s:476    .text:00000000000001b0 .L0 
     /tmp/ccbt2twp.s:477    .text:00000000000001b0 .L0 
     /tmp/ccbt2twp.s:485    .text:00000000000001b8 .L0 
     /tmp/ccbt2twp.s:491    .text:00000000000001bc .L0 
     /tmp/ccbt2twp.s:492    .text:00000000000001bc .L0 
     /tmp/ccbt2twp.s:499    .text:00000000000001c8 .L0 
     /tmp/ccbt2twp.s:500    .text:00000000000001c8 .L0 
  src/../h/riscv.hpp:191    .text:00000000000001c8 .L0 
     /tmp/ccbt2twp.s:507    .text:00000000000001cc .L0 
     /tmp/ccbt2twp.s:521    .text:00000000000001d0 .L0 
     /tmp/ccbt2twp.s:522    .text:00000000000001d0 .L0 
     /tmp/ccbt2twp.s:529    .text:00000000000001e4 .L0 
     /tmp/ccbt2twp.s:530    .text:00000000000001e4 .L0 
     /tmp/ccbt2twp.s:537    .text:00000000000001f0 .L0 
     /tmp/ccbt2twp.s:538    .text:00000000000001f0 .L0 
     /tmp/ccbt2twp.s:543    .text:00000000000001f4 .L0 
     /tmp/ccbt2twp.s:550    .text:00000000000001f8 .L0 
     /tmp/ccbt2twp.s:551    .text:00000000000001f8 .L0 
     /tmp/ccbt2twp.s:552    .text:00000000000001f8 .L0 
     /tmp/ccbt2twp.s:559    .text:0000000000000200 .L0 
     /tmp/ccbt2twp.s:569    .text:0000000000000204 .L0 
     /tmp/ccbt2twp.s:570    .text:0000000000000204 .L0 
     /tmp/ccbt2twp.s:571    .text:0000000000000204 .L0 
  src/../h/riscv.hpp:126    .text:0000000000000204 .L0 
     /tmp/ccbt2twp.s:579    .text:000000000000020c .L0 
     /tmp/ccbt2twp.s:580    .text:000000000000020c .L0 
     /tmp/ccbt2twp.s:587    .text:0000000000000210 .L0 
     /tmp/ccbt2twp.s:588    .text:0000000000000210 .L0 
     /tmp/ccbt2twp.s:589    .text:0000000000000210 .L0 
  src/../h/riscv.hpp:182    .text:0000000000000210 .L0 
     /tmp/ccbt2twp.s:597    .text:0000000000000218 .L0 
GAS LISTING /tmp/ccbt2twp.s 			page 24


     /tmp/ccbt2twp.s:598    .text:0000000000000218 .L0 
     /tmp/ccbt2twp.s:603    .text:000000000000021c .L0 
     /tmp/ccbt2twp.s:604    .text:000000000000021c .L0 
     /tmp/ccbt2twp.s:609    .text:0000000000000224 .L0 
     /tmp/ccbt2twp.s:610    .text:0000000000000224 .L0 
  src/../h/riscv.hpp:187    .text:0000000000000224 .L0 
     /tmp/ccbt2twp.s:622    .text:0000000000000228 .L0 
     /tmp/ccbt2twp.s:623    .text:0000000000000228 .L0 
  src/../h/riscv.hpp:131    .text:0000000000000228 .L0 
     /tmp/ccbt2twp.s:630    .text:000000000000022c .L0 
     /tmp/ccbt2twp.s:639    .text:0000000000000230 .L0 
     /tmp/ccbt2twp.s:640    .text:0000000000000230 .L0 
     /tmp/ccbt2twp.s:645    .text:000000000000023c .L0 
     /tmp/ccbt2twp.s:653    .text:000000000000023c .L0 
     /tmp/ccbt2twp.s:44     .rodata.str1.8:0000000000000000 .LC0
     /tmp/ccbt2twp.s:210    .text:00000000000000c4 .L0 
     /tmp/ccbt2twp.s:238    .text:00000000000000f4 .L0 
     /tmp/ccbt2twp.s:522    .text:00000000000001d0 .L0 
     /tmp/ccbt2twp.s:530    .text:00000000000001e4 .L0 
     /tmp/ccbt2twp.s:246    .text:0000000000000108 .L16
     /tmp/ccbt2twp.s:509    .text:00000000000001d0 .L17
     /tmp/ccbt2twp.s:632    .text:0000000000000230 .L18
     /tmp/ccbt2twp.s:358    .text:000000000000014c .L3
     /tmp/ccbt2twp.s:380    .text:0000000000000168 .L19
     /tmp/ccbt2twp.s:432    .text:0000000000000190 .L20
     /tmp/ccbt2twp.s:455    .text:00000000000001a0 .L21
     /tmp/ccbt2twp.s:465    .text:00000000000001ac .L22
     /tmp/ccbt2twp.s:414    .text:0000000000000184 .L23
     /tmp/ccbt2twp.s:329    .text:0000000000000144 .L7
     /tmp/ccbt2twp.s:487    .text:00000000000001bc .L10
     /tmp/ccbt2twp.s:561    .text:0000000000000204 .L24
     /tmp/ccbt2twp.s:545    .text:00000000000001f8 .L13
     /tmp/ccbt2twp.s:2056   .debug_abbrev:0000000000000000 .Ldebug_abbrev0
     /tmp/ccbt2twp.s:3604   .debug_str:00000000000005c2 .LASF122
     /tmp/ccbt2twp.s:3540   .debug_str:0000000000000429 .LASF123
     /tmp/ccbt2twp.s:3554   .debug_str:0000000000000464 .LASF124
     /tmp/ccbt2twp.s:5      .text:0000000000000000 .Ltext0
     /tmp/ccbt2twp.s:648    .text:000000000000023c .Letext0
     /tmp/ccbt2twp.s:3376   .debug_line:0000000000000000 .Ldebug_line0
     /tmp/ccbt2twp.s:3514   .debug_str:0000000000000398 .LASF0
     /tmp/ccbt2twp.s:3532   .debug_str:00000000000003e3 .LASF1
     /tmp/ccbt2twp.s:3504   .debug_str:0000000000000349 .LASF2
     /tmp/ccbt2twp.s:3478   .debug_str:00000000000002b2 .LASF4
     /tmp/ccbt2twp.s:3576   .debug_str:000000000000050a .LASF3
     /tmp/ccbt2twp.s:3404   .debug_str:0000000000000087 .LASF5
     /tmp/ccbt2twp.s:3538   .debug_str:0000000000000416 .LASF6
     /tmp/ccbt2twp.s:3512   .debug_str:0000000000000385 .LASF7
     /tmp/ccbt2twp.s:3612   .debug_str:00000000000006ab .LASF8
     /tmp/ccbt2twp.s:3466   .debug_str:0000000000000237 .LASF9
     /tmp/ccbt2twp.s:3556   .debug_str:0000000000000480 .LASF10
     /tmp/ccbt2twp.s:3608   .debug_str:000000000000068b .LASF11
     /tmp/ccbt2twp.s:3410   .debug_str:0000000000000098 .LASF12
     /tmp/ccbt2twp.s:3382   .debug_str:0000000000000011 .LASF13
     /tmp/ccbt2twp.s:3424   .debug_str:00000000000000f1 .LASF14
     /tmp/ccbt2twp.s:3570   .debug_str:00000000000004cb .LASF15
     /tmp/ccbt2twp.s:3432   .debug_str:0000000000000129 .LASF16
     /tmp/ccbt2twp.s:3528   .debug_str:00000000000003d2 .LASF77
GAS LISTING /tmp/ccbt2twp.s 			page 25


     /tmp/ccbt2twp.s:3488   .debug_str:00000000000002fd .LASF78
     /tmp/ccbt2twp.s:3590   .debug_str:0000000000000569 .LASF17
     /tmp/ccbt2twp.s:3526   .debug_str:00000000000003c9 .LASF18
     /tmp/ccbt2twp.s:3482   .debug_str:00000000000002ca .LASF19
     /tmp/ccbt2twp.s:3568   .debug_str:00000000000004c0 .LASF72
     /tmp/ccbt2twp.s:3626   .debug_str:000000000000072e .LASF74
     /tmp/ccbt2twp.s:3384   .debug_str:0000000000000021 .LASF20
     /tmp/ccbt2twp.s:3446   .debug_str:000000000000019a .LASF22
     /tmp/ccbt2twp.s:3442   .debug_str:0000000000000180 .LASF24
     /tmp/ccbt2twp.s:3440   .debug_str:000000000000016b .LASF26
     /tmp/ccbt2twp.s:3580   .debug_str:000000000000052d .LASF21
     /tmp/ccbt2twp.s:3558   .debug_str:000000000000048f .LASF23
     /tmp/ccbt2twp.s:3602   .debug_str:00000000000005bb .LASF25
     /tmp/ccbt2twp.s:3596   .debug_str:0000000000000591 .LASF27
     /tmp/ccbt2twp.s:3458   .debug_str:0000000000000209 .LASF28
     /tmp/ccbt2twp.s:3434   .debug_str:000000000000013f .LASF29
     /tmp/ccbt2twp.s:3380   .debug_str:0000000000000009 .LASF30
     /tmp/ccbt2twp.s:3470   .debug_str:000000000000025b .LASF31
     /tmp/ccbt2twp.s:3402   .debug_str:000000000000007f .LASF32
     /tmp/ccbt2twp.s:3418   .debug_str:00000000000000b7 .LASF33
     /tmp/ccbt2twp.s:3634   .debug_str:0000000000000768 .LASF34
     /tmp/ccbt2twp.s:3448   .debug_str:00000000000001af .LASF35
     /tmp/ccbt2twp.s:3516   .debug_str:00000000000003a5 .LASF36
     /tmp/ccbt2twp.s:3622   .debug_str:00000000000006f9 .LASF37
     /tmp/ccbt2twp.s:3398   .debug_str:000000000000005f .LASF38
     /tmp/ccbt2twp.s:3456   .debug_str:00000000000001f6 .LASF39
     /tmp/ccbt2twp.s:3462   .debug_str:000000000000021a .LASF40
     /tmp/ccbt2twp.s:3600   .debug_str:00000000000005a9 .LASF41
     /tmp/ccbt2twp.s:3396   .debug_str:0000000000000059 .LASF42
     /tmp/ccbt2twp.s:3638   .debug_str:0000000000000775 .LASF43
     /tmp/ccbt2twp.s:3632   .debug_str:000000000000075d .LASF44
     /tmp/ccbt2twp.s:3574   .debug_str:00000000000004f2 .LASF45
     /tmp/ccbt2twp.s:3530   .debug_str:00000000000003d8 .LASF46
     /tmp/ccbt2twp.s:3592   .debug_str:0000000000000572 .LASF47
     /tmp/ccbt2twp.s:3422   .debug_str:00000000000000e7 .LASF48
     /tmp/ccbt2twp.s:3474   .debug_str:0000000000000274 .LASF49
     /tmp/ccbt2twp.s:3508   .debug_str:000000000000036a .LASF50
     /tmp/ccbt2twp.s:3468   .debug_str:0000000000000245 .LASF51
     /tmp/ccbt2twp.s:3598   .debug_str:00000000000005a4 .LASF52
     /tmp/ccbt2twp.s:3444   .debug_str:0000000000000189 .LASF53
     /tmp/ccbt2twp.s:3406   .debug_str:000000000000008e .LASF54
     /tmp/ccbt2twp.s:3510   .debug_str:0000000000000374 .LASF55
     /tmp/ccbt2twp.s:3492   .debug_str:000000000000030e .LASF56
     /tmp/ccbt2twp.s:3628   .debug_str:0000000000000746 .LASF57
     /tmp/ccbt2twp.s:3408   .debug_str:0000000000000093 .LASF58
     /tmp/ccbt2twp.s:3480   .debug_str:00000000000002b9 .LASF59
     /tmp/ccbt2twp.s:3544   .debug_str:0000000000000442 .LASF60
     /tmp/ccbt2twp.s:3610   .debug_str:000000000000069a .LASF61
     /tmp/ccbt2twp.s:3524   .debug_str:00000000000003c4 .LASF62
     /tmp/ccbt2twp.s:3452   .debug_str:00000000000001d6 .LASF63
     /tmp/ccbt2twp.s:3548   .debug_str:000000000000044e .LASF64
     /tmp/ccbt2twp.s:3572   .debug_str:00000000000004e1 .LASF65
     /tmp/ccbt2twp.s:3412   .debug_str:00000000000000a8 .LASF66
     /tmp/ccbt2twp.s:3426   .debug_str:00000000000000fd .LASF67
     /tmp/ccbt2twp.s:3606   .debug_str:0000000000000686 .LASF68
     /tmp/ccbt2twp.s:3536   .debug_str:0000000000000405 .LASF69
     /tmp/ccbt2twp.s:3414   .debug_str:00000000000000ad .LASF70
GAS LISTING /tmp/ccbt2twp.s 			page 26


     /tmp/ccbt2twp.s:3392   .debug_str:0000000000000043 .LASF71
     /tmp/ccbt2twp.s:3584   .debug_str:000000000000054b .LASF73
     /tmp/ccbt2twp.s:3420   .debug_str:00000000000000cb .LASF75
     /tmp/ccbt2twp.s:3614   .debug_str:00000000000006bb .LASF100
     /tmp/ccbt2twp.s:3486   .debug_str:00000000000002db .LASF102
     /tmp/ccbt2twp.s:3550   .debug_str:0000000000000453 .LASF76
     /tmp/ccbt2twp.s:3390   .debug_str:000000000000003d .LASF79
     /tmp/ccbt2twp.s:3616   .debug_str:00000000000006d0 .LASF80
     /tmp/ccbt2twp.s:3588   .debug_str:0000000000000563 .LASF81
     /tmp/ccbt2twp.s:3552   .debug_str:000000000000045c .LASF82
     /tmp/ccbt2twp.s:3586   .debug_str:000000000000055a .LASF83
     /tmp/ccbt2twp.s:3436   .debug_str:0000000000000153 .LASF125
     /tmp/ccbt2twp.s:3472   .debug_str:000000000000026f .LASF90
     /tmp/ccbt2twp.s:3560   .debug_str:00000000000004a2 .LASF92
     /tmp/ccbt2twp.s:3542   .debug_str:0000000000000437 .LASF84
     /tmp/ccbt2twp.s:3464   .debug_str:0000000000000220 .LASF86
     /tmp/ccbt2twp.s:3496   .debug_str:0000000000000318 .LASF85
     /tmp/ccbt2twp.s:3400   .debug_str:0000000000000066 .LASF87
     /tmp/ccbt2twp.s:3500   .debug_str:0000000000000333 .LASF88
     /tmp/ccbt2twp.s:3502   .debug_str:0000000000000339 .LASF89
     /tmp/ccbt2twp.s:3430   .debug_str:000000000000011c .LASF91
     /tmp/ccbt2twp.s:3624   .debug_str:000000000000070c .LASF93
     /tmp/ccbt2twp.s:3564   .debug_str:00000000000004b6 .LASF94
     /tmp/ccbt2twp.s:3620   .debug_str:00000000000006f1 .LASF126
     /tmp/ccbt2twp.s:3582   .debug_str:0000000000000534 .LASF127
     /tmp/ccbt2twp.s:3416   .debug_str:00000000000000b2 .LASF95
     /tmp/ccbt2twp.s:3630   .debug_str:0000000000000757 .LASF96
     /tmp/ccbt2twp.s:3484   .debug_str:00000000000002d3 .LASF97
     /tmp/ccbt2twp.s:3522   .debug_str:00000000000003ba .LASF98
     /tmp/ccbt2twp.s:3490   .debug_str:0000000000000308 .LASF99
     /tmp/ccbt2twp.s:3498   .debug_str:0000000000000325 .LASF101
     /tmp/ccbt2twp.s:3618   .debug_str:00000000000006d8 .LASF103
     /tmp/ccbt2twp.s:3428   .debug_str:000000000000010e .LASF128
     /tmp/ccbt2twp.s:3476   .debug_str:000000000000028a .LASF129
     /tmp/ccbt2twp.s:3518   .debug_str:00000000000003ac .LASF104
     /tmp/ccbt2twp.s:3450   .debug_str:00000000000001c3 .LASF105
     /tmp/ccbt2twp.s:3494   .debug_str:0000000000000313 .LASF106
     /tmp/ccbt2twp.s:3454   .debug_str:00000000000001e7 .LASF107
     /tmp/ccbt2twp.s:3578   .debug_str:000000000000051c .LASF108
     /tmp/ccbt2twp.s:3378   .debug_str:0000000000000000 .LASF109
     /tmp/ccbt2twp.s:3394   .debug_str:0000000000000054 .LASF110
     /tmp/ccbt2twp.s:51     .text:0000000000000020 .LFB43
     /tmp/ccbt2twp.s:646    .text:000000000000023c .LFE43
     /tmp/ccbt2twp.s:2973   .debug_loc:0000000000000000 .LLST0
     /tmp/ccbt2twp.s:3012   .debug_loc:00000000000000bb .LLST1
     /tmp/ccbt2twp.s:3051   .debug_loc:0000000000000176 .LLST2
     /tmp/ccbt2twp.s:3090   .debug_loc:0000000000000231 .LLST3
     /tmp/ccbt2twp.s:3109   .debug_loc:000000000000028d .LLST4
     /tmp/ccbt2twp.s:3386   .debug_str:000000000000002a .LASF111
     /tmp/ccbt2twp.s:3148   .debug_loc:0000000000000348 .LLST5
     /tmp/ccbt2twp.s:3362   .debug_ranges:0000000000000000 .Ldebug_ranges0
     /tmp/ccbt2twp.s:3520   .debug_str:00000000000003b5 .LASF112
     /tmp/ccbt2twp.s:3209   .debug_loc:0000000000000437 .LLST12
     /tmp/ccbt2twp.s:3562   .debug_str:00000000000004ae .LASF113
     /tmp/ccbt2twp.s:3220   .debug_loc:000000000000046d .LLST13
     /tmp/ccbt2twp.s:385    .text:0000000000000168 .LBB113
     /tmp/ccbt2twp.s:436    .text:0000000000000190 .LBE113
GAS LISTING /tmp/ccbt2twp.s 			page 27


     /tmp/ccbt2twp.s:3594   .debug_str:000000000000058a .LASF114
     /tmp/ccbt2twp.s:3231   .debug_loc:00000000000004a3 .LLST18
     /tmp/ccbt2twp.s:393    .text:0000000000000174 .LBB115
     /tmp/ccbt2twp.s:417    .text:0000000000000184 .LBE115
     /tmp/ccbt2twp.s:3238   .debug_loc:00000000000004c6 .LLST19
     /tmp/ccbt2twp.s:401    .text:0000000000000178 .LBB116
     /tmp/ccbt2twp.s:416    .text:0000000000000184 .LBE116
     /tmp/ccbt2twp.s:3245   .debug_loc:00000000000004e9 .LLST20
     /tmp/ccbt2twp.s:419    .text:0000000000000184 .LBB118
     /tmp/ccbt2twp.s:434    .text:0000000000000190 .LBE118
     /tmp/ccbt2twp.s:3253   .debug_loc:000000000000050d .LLST21
     /tmp/ccbt2twp.s:389    .text:0000000000000170 .LVL22
     /tmp/ccbt2twp.s:467    .text:00000000000001ac .LBB101
     /tmp/ccbt2twp.s:512    .text:00000000000001d0 .LBE101
     /tmp/ccbt2twp.s:3546   .debug_str:0000000000000447 .LASF115
     /tmp/ccbt2twp.s:3262   .debug_loc:0000000000000532 .LLST14
     /tmp/ccbt2twp.s:473    .text:00000000000001b0 .LBB102
     /tmp/ccbt2twp.s:489    .text:00000000000001bc .LBE102
     /tmp/ccbt2twp.s:3269   .debug_loc:0000000000000555 .LLST15
     /tmp/ccbt2twp.s:497    .text:00000000000001c8 .LBB104
     /tmp/ccbt2twp.s:511    .text:00000000000001d0 .LBE104
     /tmp/ccbt2twp.s:3278   .debug_loc:000000000000057a .LLST16
     /tmp/ccbt2twp.s:495    .text:00000000000001c8 .LVL35
     /tmp/ccbt2twp.s:250    .text:0000000000000108 .LBB93
     /tmp/ccbt2twp.s:266    .text:0000000000000114 .LBE93
     /tmp/ccbt2twp.s:271    .text:0000000000000118 .LBB95
     /tmp/ccbt2twp.s:287    .text:0000000000000124 .LBE95
     /tmp/ccbt2twp.s:443    .text:0000000000000198 .LBB108
     /tmp/ccbt2twp.s:457    .text:00000000000001a0 .LBE108
     /tmp/ccbt2twp.s:3285   .debug_loc:000000000000059d .LLST17
     /tmp/ccbt2twp.s:335    .text:0000000000000144 .LBB124
     /tmp/ccbt2twp.s:346    .text:0000000000000148 .LBE124
     /tmp/ccbt2twp.s:3292   .debug_loc:00000000000005c0 .LLST22
     /tmp/ccbt2twp.s:348    .text:0000000000000148 .LBB126
     /tmp/ccbt2twp.s:360    .text:000000000000014c .LBE126
     /tmp/ccbt2twp.s:3299   .debug_loc:00000000000005e3 .LLST23
     /tmp/ccbt2twp.s:441    .text:0000000000000198 .LVL27
     /tmp/ccbt2twp.s:462    .text:00000000000001a8 .LVL29
     /tmp/ccbt2twp.s:565    .text:0000000000000204 .LBB80
     /tmp/ccbt2twp.s:635    .text:0000000000000230 .LBE80
     /tmp/ccbt2twp.s:3306   .debug_loc:0000000000000606 .LLST7
     /tmp/ccbt2twp.s:3313   .debug_loc:0000000000000629 .LLST8
     /tmp/ccbt2twp.s:567    .text:0000000000000204 .LBB81
     /tmp/ccbt2twp.s:583    .text:0000000000000210 .LBE81
     /tmp/ccbt2twp.s:585    .text:0000000000000210 .LBB83
     /tmp/ccbt2twp.s:601    .text:000000000000021c .LBE83
     /tmp/ccbt2twp.s:607    .text:0000000000000224 .LBB85
     /tmp/ccbt2twp.s:618    .text:0000000000000228 .LBE85
     /tmp/ccbt2twp.s:3320   .debug_loc:000000000000064c .LLST9
     /tmp/ccbt2twp.s:620    .text:0000000000000228 .LBB87
     /tmp/ccbt2twp.s:634    .text:0000000000000230 .LBE87
     /tmp/ccbt2twp.s:3327   .debug_loc:000000000000066f .LLST10
     /tmp/ccbt2twp.s:605    .text:0000000000000224 .LVL44
     /tmp/ccbt2twp.s:69     .text:000000000000003c .LBB60
     /tmp/ccbt2twp.s:86     .text:0000000000000048 .LBE60
     /tmp/ccbt2twp.s:88     .text:0000000000000048 .LBB62
     /tmp/ccbt2twp.s:104    .text:0000000000000054 .LBE62
GAS LISTING /tmp/ccbt2twp.s 			page 28


     /tmp/ccbt2twp.s:106    .text:0000000000000054 .LBB64
     /tmp/ccbt2twp.s:122    .text:0000000000000060 .LBE64
     /tmp/ccbt2twp.s:124    .text:0000000000000060 .LBB66
     /tmp/ccbt2twp.s:140    .text:000000000000006c .LBE66
     /tmp/ccbt2twp.s:142    .text:000000000000006c .LBB68
     /tmp/ccbt2twp.s:158    .text:0000000000000078 .LBE68
     /tmp/ccbt2twp.s:160    .text:0000000000000078 .LBB70
     /tmp/ccbt2twp.s:176    .text:0000000000000084 .LBE70
     /tmp/ccbt2twp.s:214    .text:00000000000000d4 .LBB74
     /tmp/ccbt2twp.s:229    .text:00000000000000e0 .LBE74
     /tmp/ccbt2twp.s:533    .text:00000000000001f0 .LBB78
     /tmp/ccbt2twp.s:541    .text:00000000000001f4 .LBE78
     /tmp/ccbt2twp.s:3334   .debug_loc:0000000000000692 .LLST6
     /tmp/ccbt2twp.s:548    .text:00000000000001f8 .LBB89
     /tmp/ccbt2twp.s:563    .text:0000000000000204 .LBE89
     /tmp/ccbt2twp.s:3341   .debug_loc:00000000000006b5 .LLST11
     /tmp/ccbt2twp.s:207    .text:00000000000000c4 .LVL10
     /tmp/ccbt2twp.s:212    .text:00000000000000d4 .LVL11
     /tmp/ccbt2twp.s:235    .text:00000000000000f4 .LVL12
     /tmp/ccbt2twp.s:240    .text:0000000000000104 .LVL13
     /tmp/ccbt2twp.s:641    .text:0000000000000238 .LVL47
     /tmp/ccbt2twp.s:10     .text:0000000000000000 .LFB42
     /tmp/ccbt2twp.s:40     .text:0000000000000020 .LFE42
     /tmp/ccbt2twp.s:3566   .debug_str:00000000000004bb .LASF130
     /tmp/ccbt2twp.s:3636   .debug_str:0000000000000770 .LASF116
     /tmp/ccbt2twp.s:3534   .debug_str:00000000000003f6 .LASF117
     /tmp/ccbt2twp.s:3460   .debug_str:0000000000000211 .LASF119
     /tmp/ccbt2twp.s:3506   .debug_str:0000000000000357 .LASF118
     /tmp/ccbt2twp.s:3388   .debug_str:0000000000000031 .LASF120
     /tmp/ccbt2twp.s:3438   .debug_str:000000000000015b .LASF121
     /tmp/ccbt2twp.s:84     .text:0000000000000048 .LVL0
     /tmp/ccbt2twp.s:201    .text:00000000000000b4 .LVL7
     /tmp/ccbt2twp.s:245    .text:0000000000000108 .LVL14
     /tmp/ccbt2twp.s:328    .text:0000000000000144 .LVL18
     /tmp/ccbt2twp.s:379    .text:0000000000000168 .LVL21
     /tmp/ccbt2twp.s:431    .text:0000000000000190 .LVL26
     /tmp/ccbt2twp.s:454    .text:00000000000001a0 .LVL28
     /tmp/ccbt2twp.s:464    .text:00000000000001ac .LVL30
     /tmp/ccbt2twp.s:508    .text:00000000000001d0 .LVL36
     /tmp/ccbt2twp.s:544    .text:00000000000001f8 .LVL40
     /tmp/ccbt2twp.s:560    .text:0000000000000204 .LVL41
     /tmp/ccbt2twp.s:631    .text:0000000000000230 .LVL46
     /tmp/ccbt2twp.s:102    .text:0000000000000054 .LVL1
     /tmp/ccbt2twp.s:203    .text:00000000000000b8 .LVL8
     /tmp/ccbt2twp.s:120    .text:0000000000000060 .LVL2
     /tmp/ccbt2twp.s:205    .text:00000000000000bc .LVL9
     /tmp/ccbt2twp.s:493    .text:00000000000001c0 .LVL34
     /tmp/ccbt2twp.s:138    .text:000000000000006c .LVL3
     /tmp/ccbt2twp.s:356    .text:000000000000014c .LVL20
     /tmp/ccbt2twp.s:599    .text:000000000000021c .LVL43
     /tmp/ccbt2twp.s:156    .text:0000000000000078 .LVL4
     /tmp/ccbt2twp.s:189    .text:0000000000000094 .LVL6
     /tmp/ccbt2twp.s:478    .text:00000000000001b4 .LVL32
     /tmp/ccbt2twp.s:486    .text:00000000000001bc .LVL33
     /tmp/ccbt2twp.s:174    .text:0000000000000084 .LVL5
     /tmp/ccbt2twp.s:259    .text:000000000000010c .LVL15
     /tmp/ccbt2twp.s:523    .text:00000000000001d8 .LVL37
GAS LISTING /tmp/ccbt2twp.s 			page 29


     /tmp/ccbt2twp.s:269    .text:0000000000000118 .LVL16
     /tmp/ccbt2twp.s:285    .text:0000000000000124 .LVL17
     /tmp/ccbt2twp.s:395    .text:0000000000000174 .LVL23
     /tmp/ccbt2twp.s:413    .text:0000000000000184 .LVL25
     /tmp/ccbt2twp.s:400    .text:0000000000000178 .LVL24
     /tmp/ccbt2twp.s:472    .text:00000000000001b0 .LVL31
     /tmp/ccbt2twp.s:343    .text:0000000000000148 .LVL19
     /tmp/ccbt2twp.s:581    .text:0000000000000210 .LVL42
     /tmp/ccbt2twp.s:615    .text:0000000000000228 .LVL45
     /tmp/ccbt2twp.s:532    .text:00000000000001f0 .LVL38
     /tmp/ccbt2twp.s:539    .text:00000000000001f4 .LVL39
     /tmp/ccbt2twp.s:654    .debug_info:0000000000000000 .Ldebug_info0
     /tmp/ccbt2twp.s:248    .text:0000000000000108 .LBB92
     /tmp/ccbt2twp.s:293    .text:000000000000012c .LBE92
     /tmp/ccbt2twp.s:297    .text:000000000000012c .LBB129
     /tmp/ccbt2twp.s:304    .text:0000000000000134 .LBE129
     /tmp/ccbt2twp.s:308    .text:0000000000000134 .LBB130
     /tmp/ccbt2twp.s:317    .text:000000000000013c .LBE130
     /tmp/ccbt2twp.s:321    .text:000000000000013c .LBB131
     /tmp/ccbt2twp.s:361    .text:000000000000014c .LBE131
     /tmp/ccbt2twp.s:383    .text:0000000000000168 .LBB132
     /tmp/ccbt2twp.s:517    .text:00000000000001d0 .LBE132

UNDEFINED SYMBOLS
_Z8printIntiii
_Z11printStringPKc
_ZN3TCB12createThreadEPFvPvES0_Pm
_ZN3TCB4exitEv
_ZN3TCB8dispatchEv
_ZN3TCB5startEv
_ZN3TCB16timeSliceCounterE
_ZN3TCB7runningE
console_handler
